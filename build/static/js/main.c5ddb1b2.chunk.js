(this["webpackJsonpdouban-read"]=this["webpackJsonpdouban-read"]||[]).push([[0],{17:function(e,t,a){e.exports=a(32)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(8),r=a.n(s),c=a(3),o=a(10),l=a(16),u=a(9),h=a(1),m=Object(c.c)({fetchListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIST":return Object(h.a)({},e,Object(u.a)({},t.tag,t.list));default:return e}}}),p=(a(28),a(4)),d=a(5),f=a(2),v=a(6),b=a(7),w=(a(29),a(30),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).prev=e.prev.bind(Object(f.a)(e)),e.next=e.next.bind(Object(f.a)(e)),e.changeButtons=e.changeButtons.bind(Object(f.a)(e)),e.state={pageSize:1,page:1,showButtons:!0,animate:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.initState(),window.onresize=this.resize.bind(this)}},{key:"componentDidUpdate",value:function(e){e.children.length!==this.props.children.length&&this.initState()}},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"widget-swiper ".concat(this.state.showButtons?"show":""),ref:"swiper"},i.a.createElement("div",{className:"swiper-prev"},i.a.createElement("button",{className:"btn-prev",disabled:this.prevDisabled(),onClick:this.prev},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 11",width:"7",height:"14"},i.a.createElement("path",{fill:this.getArrowColor("prev"),d:"M4.894 10.986l1.1-.92-4.096-4.573L5.993.92 4.893 0 0 5.473l4.894 5.513z"})))),i.a.createElement("div",{className:"swiper-next"},i.a.createElement("button",{className:"btn-next",disabled:this.nextDisabled(),onClick:this.next},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 11",width:"7",height:"14",style:{transform:"scaleX(-1)"}},i.a.createElement("path",{fill:this.getArrowColor("next"),d:"M4.894 10.986l1.1-.92-4.096-4.573L5.993.92 4.893 0 0 5.473l4.894 5.513z"})))),i.a.createElement("div",{className:"widget-swiper-inner"},this.props.children.map((function(t,a){return i.a.createElement("div",{className:"widget-swiper-item ".concat(e.state.animate?"animate":""),key:a,ref:"item_".concat(a+1)},t)}))))}},{key:"initState",value:function(){var e=this;this.setState({pageSize:this.props.children.length,page:1,showButtons:this.props.options.defaultShowButtons,animate:!1}),setTimeout((function(){e.initItems()}),0)}},{key:"initItems",value:function(){var e=this;this.swiperWidth=this.refs.swiper.clientWidth;var t=this.state.pageSize;if(this.refs.item_1.style.left=0,t>1)for(var a=2;a<=t;a++)this.refs["item_".concat(a)].style.left="".concat(this.swiperWidth,"px");setTimeout((function(){e.setState(Object(h.a)({},e.state,{animate:!0}))}),100)}},{key:"prev",value:function(){var e=this.state.page,t=e-1;this.setState(Object(h.a)({},this.state,{page:t})),this.refs["item_".concat(t)].style.left=0,this.refs["item_".concat(e)].style.left=this.swiperWidth+"px"}},{key:"next",value:function(){var e=this.state.page,t=e+1;this.setState(Object(h.a)({},this.state,{page:t})),this.refs["item_".concat(t)].style.left=0,this.refs["item_".concat(e)].style.left=-1*this.swiperWidth+"px"}},{key:"prevDisabled",value:function(){return this.state.page>1?"":"disabled"}},{key:"nextDisabled",value:function(){return this.state.pageSize>this.state.page?"":"disabled"}},{key:"changeButtons",value:function(e){this.state.showButtons!==e&&this.setState(Object(h.a)({},this.state,{showButtons:e}))}},{key:"getArrowColor",value:function(e){return"prev"===e&&!this.prevDisabled()||"next"===e&&!this.nextDisabled()?"#825807":"#aaa"}},{key:"resize",value:function(){this.initItems()}}]),a}(i.a.Component)),g=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.info||{},a=t.title,n=t.link,s=t.books;if(this.props.info){var r=Math.ceil(s.length/3),c=this.renderBooks(s,r);return i.a.createElement("div",{className:"widget-list",onMouseEnter:function(){return e.refs.swiper.changeButtons(!0)},onMouseLeave:function(){return e.refs.swiper.changeButtons(!1)}},i.a.createElement("div",{className:"widget-list-head"},i.a.createElement("h2",{className:"widget-list-title"},a),i.a.createElement("div",{className:"widget-list-link"},i.a.createElement("a",{href:n},"\u66f4\u591a",a))),i.a.createElement("div",{className:"widget-list-body"},i.a.createElement(w,{options:{defaultShowButtons:!1},ref:"swiper"},c.map((function(e,t){return i.a.createElement("div",{className:"book-wrap",key:t},e)})))))}return i.a.createElement("div",null)}},{key:"renderBooks",value:function(e,t){for(var a=[],n=0;n<t;n++){a[n]=[];for(var s=0;s<3;s++){var r=e[3*n+s];if(!r)break;a[n].push(i.a.createElement("div",{className:"book-container",key:r.id},i.a.createElement("div",{className:"book-container-main"},i.a.createElement("div",{className:"description"},i.a.createElement("h4",{className:"title"},i.a.createElement("a",{title:r.title,href:r.link},r.title)),i.a.createElement("div",{className:"author"},i.a.createElement("a",{href:r.author_link},r.author[0]," ",r.author.length>1?"\u7b49":""))),i.a.createElement("div",{className:"cover"},i.a.createElement("a",{href:r.link},i.a.createElement("img",{src:r.cover})))),i.a.createElement("div",{className:"price"},r.price,"\u5143")))}}return a}}]),a}(i.a.Component),E=(a(31),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).changeNums=e.changeNums.bind(Object(f.a)(e)),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pictureList;return t&&t.books&&(t=Object(h.a)({},t,{books:t.books.slice(0,this.state.num)})),i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"demo-setting"},i.a.createElement("label",null,"\u8f93\u5165\u5c55\u793a\u4e66\u672c\u7684\u4e2a\u6570,\u6700\u591a",7,"\u4e2a"),i.a.createElement("input",{onInput:function(t){return e.changeNums(t)}})),i.a.createElement(g,{info:t}))}},{key:"componentDidMount",value:function(){var e;this.setState({num:7}),this.props.dispatch((e="picture",function(t){return fetch("".concat("/douban-reader-swiper/build/","json/").concat(e),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()})).then((function(a){return t(function(e,t){return{type:"GET_LIST",tag:e,list:t}}(e,a.data))}))}))}},{key:"changeNums",value:function(e){var t=e.target.value||7;t=t<1?1:t>7?7:t,this.setState(Object(h.a)({},this.state,{num:t}))}}]),a}(i.a.Component)),k=Object(o.b)((function(e){return{pictureList:e.fetchListReducer.picture}}))(E),y=[l.a],j=Object(c.d)(m,c.a.apply(void 0,y));r.a.render(i.a.createElement(o.a,{store:j},i.a.createElement(k,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.c5ddb1b2.chunk.js.map